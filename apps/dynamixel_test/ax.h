
#ifndef _AX_H_
#define _AX_H_

#include <wixel.h>
#include "dynamixel.h"

#define AX_MIN_VALUE     0
#define AX_MAX_VALUE     1023
#define AX_CENTER_VALUE  512
#define AX_MIN_ANGLE    -150
#define AX_MAX_ANGLE     150

#define AX_MODEL_NUMBER_L          0
#define AX_MODEL_NUMBER_H          1
#define AX_VERSION                 2
#define AX_SERVO_ID                3
#define AX_BAUD_RATE               4
#define AX_RETURN_DELAY_TIME       5
#define AX_CW_ANGLE_LIMIT_L        6
#define AX_CW_ANGLE_LIMIT_H        7
#define AX_CCW_ANGLE_LIMIT_L       8
#define AX_CCW_ANGLE_LIMIT_H       9
#define AX_LIMIT_TEMPERATURE       11
#define AX_LOW_LIMIT_VOLTAGE       12
#define AX_HIGH_LIMIT_VOLTAGE      13
#define AX_MAX_TORQUE_L            14
#define AX_MAX_TORQUE_H            15
#define AX_RETURN_LEVEL            16
#define AX_ALARM_LED               17
#define AX_ALARM_SHUTDOWN          18
#define AX_DOWN_CALIBRATION_L      20
#define AX_DOWN_CALIBRATION_H      21
#define AX_UP_CALIBRATION_L        22
#define AX_UP_CALIBRATION_H        23
#define AX_TORQUE_ENABLE           24
#define AX_LED                     25
#define AX_CW_COMPLIANCE_MARGIN    26
#define AX_CCW_COMPLIANCE_MARGIN   27
#define AX_CW_COMPLIANCE_SLOPE     28
#define AX_CCW_COMPLIANCE_SLOPE    29
#define AX_GOAL_POSITION_L         30   //Webbotlib uses this one in setGoalPosition()
#define AX_GOAL_POSITION_H         31   // L=low, H=high
#define AX_GOAL_SPEED_L            32
#define AX_GOAL_SPEED_H            33
#define AX_TORQUE_LIMIT_L          34
#define AX_TORQUE_LIMIT_H          35
#define AX_PRESENT_POSITION_L      36
#define AX_PRESENT_POSITION_H      37
#define AX_PRESENT_SPEED_L         38
#define AX_PRESENT_SPEED_H         39
#define AX_PRESENT_LOAD_L          40
#define AX_PRESENT_LOAD_H          41
#define AX_PRESENT_VOLTAGE         42
#define AX_PRESENT_TEMPERATURE     43
#define AX_REGISTERED_INSTRUCTION  44
#define AX_MOVING                  46
#define AX_LOCK                    47
#define AX_PUNCH_L                 48
#define AX_PUNCH_H                 49

/// The below lines are adapted from AX12.h in Webbotlib. Check out Clive Webster's work at http://webbot.org.uk/

#define ax12SetGOAL_POSITION(servo,val)     dynamixel_writeword(servo,AX_GOAL_SPEED_L,CLAMP(val,0,1023))    

#endif
